<html>
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css">
    <script defer src="https://pyscript.net/latest/pyscript.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.js"></script>
    <link rel="stylesheet" href="style.css">
    <script>function setup() {}</script>
  </head>
  <body>
    <py-config type="toml">
        [[fetch]]
        files = [
          "./main.py",
          "./bullet.py",
          "./invader.py",
          "./player.py",
          "./sprite.py"
        ]
    </py-config>
  
    <py-script id="output">
      from pyodide.ffi import create_proxy
      from main import *
      
      def run(*args):
        draw()
        p5.requestAnimationFrame(create_proxy(run))
      
      setup()
      run()

      p5.keyPressed = create_proxy(keyPressed)
      p5.keyReleased = create_proxy(keyReleased) 
      p5.mousePressed = create_proxy(mousePressed) 
      p5.mouseReleased = create_proxy(mouseReleased)
    </py-script>
  </body>
</html>